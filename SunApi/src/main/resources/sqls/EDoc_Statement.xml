<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.brs.sun.model.dao.EDocDao">
	
	<!-- 결재 문서 상세 -->
	
	
	<!-- 남은 연차 조회 -->
	<select id="selectDayOff" resultType="DayOffVo">
		SELECT DAYOFF_LEFT - DAYOFF_USED AS DAYOFF_LEFT
		FROM DAYOFF d 
		WHERE EMP_CODE = #{empCode}
	</select>
	
	<!-- 사용 연차 갯수 추가 -->
	<update id="updateDayOff">
		UPDATE DAYOFF SET DAYOFF_USED = DAYOFF_USED + #{dayOff}
		WHERE EMP_CODE = #{empCode}
	</update>
	<!-- 결재 문서 기안 -->
	
</mapper>